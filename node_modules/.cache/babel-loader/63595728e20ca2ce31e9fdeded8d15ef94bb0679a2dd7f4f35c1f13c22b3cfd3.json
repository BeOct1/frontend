{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getWatchlists,createWatchlist as apiCreateWatchlist}from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Watchlists(_ref){let{compact}=_ref;const[watchlists,setWatchlists]=useState([]);const[newName,setNewName]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const fetchWatchlists=async()=>{setLoading(true);setError('');try{const data=await getWatchlists();setWatchlists(data);}catch(err){setError(err);}setLoading(false);};const handleCreateWatchlist=async e=>{e.preventDefault();setError('');setSuccess('');try{const data=await apiCreateWatchlist({name:newName});setWatchlists([...watchlists,data]);setNewName('');setSuccess('Watchlist created!');}catch(err){setError(err);}};useEffect(()=>{fetchWatchlists();// eslint-disable-next-line\n},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:error});if(!watchlists.length)return/*#__PURE__*/_jsx(\"div\",{className:\"text-secondary\",children:\"No watchlists yet.\"});if(compact){return/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",\"aria-label\":\"Watchlists\",children:[watchlists.slice(0,2).map(wl=>/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item bg-transparent px-0 py-1 border-0 text-truncate\",children:[wl.name,\" (\",wl.movies.length,\" movies)\"]},wl._id||wl.name)),watchlists.length>2&&/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item bg-transparent px-0 py-1 border-0 text-primary\",children:[\"...and \",watchlists.length-2,\" more\"]})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"mb-3 d-flex gap-2 flex-wrap\",onSubmit:handleCreateWatchlist,\"aria-label\":\"Create new watchlist\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-watchlist-name\",className:\"visually-hidden\",children:\"New watchlist name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"new-watchlist-name\",className:\"form-control\",type:\"text\",placeholder:\"New watchlist name\",value:newName,onChange:e=>setNewName(e.target.value),required:true,style:{minWidth:180,flex:1}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",style:{minHeight:44,minWidth:44},children:\"Create\"})]}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"text-success mb-2\",role:\"status\",children:success}),/*#__PURE__*/_jsx(\"div\",{className:\"watchlists-grid\",role:\"list\",\"aria-label\":\"Watchlists\",children:watchlists.map(wl=>/*#__PURE__*/_jsx(\"div\",{className:\"watchlist-card\",role:\"listitem\",tabIndex:0,\"aria-label\":\"Watchlist: \".concat(wl.name),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"card-title fw-bold text-truncate\",children:wl.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-secondary small\",children:[wl.movies.length,\" movies\"]})]})},wl._id||wl.name))}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        .watchlists-grid {\\n          display: grid;\\n          grid-template-columns: 1fr;\\n          gap: 1.5rem;\\n        }\\n        @media (min-width: 600px) {\\n          .watchlists-grid {\\n            grid-template-columns: repeat(2, 1fr);\\n          }\\n        }\\n        @media (min-width: 900px) {\\n          .watchlists-grid {\\n            grid-template-columns: repeat(3, 1fr);\\n          }\\n        }\\n        .watchlist-card {\\n          background: #fff;\\n          border-radius: 18px;\\n          box-shadow: 0 2px 12px rgba(0,0,0,0.07);\\n          overflow: hidden;\\n          display: flex;\\n          flex-direction: column;\\n          outline: none;\\n          transition: transform 0.3s, box-shadow 0.3s;\\n          cursor: pointer;\\n        }\\n        .watchlist-card:focus {\\n          box-shadow: 0 0 0 3px #2563eb;\\n        }\\n        .watchlist-card:hover {\\n          transform: scale(1.04);\\n          box-shadow: 0 8px 32px rgba(0,0,0,0.13);\\n        }\\n        .card-body {\\n          display: flex;\\n          flex-direction: column;\\n          flex: 1;\\n          padding: 1rem;\\n        }\\n        .btn-primary {\\n          font-size: 1rem;\\n          padding: 0.75rem 1.25rem;\\n          border-radius: 8px;\\n        }\\n        .visually-hidden {\\n          position: absolute;\\n          width: 1px;\\n          height: 1px;\\n          padding: 0;\\n          margin: -1px;\\n          overflow: hidden;\\n          clip: rect(0,0,0,0);\\n          border: 0;\\n        }\\n      \"})]});}export default Watchlists;","map":{"version":3,"names":["React","useEffect","useState","getWatchlists","createWatchlist","apiCreateWatchlist","jsx","_jsx","jsxs","_jsxs","Watchlists","_ref","compact","watchlists","setWatchlists","newName","setNewName","loading","setLoading","error","setError","success","setSuccess","fetchWatchlists","data","err","handleCreateWatchlist","e","preventDefault","name","children","className","length","slice","map","wl","movies","_id","onSubmit","htmlFor","id","type","placeholder","value","onChange","target","required","style","minWidth","flex","minHeight","role","tabIndex","concat"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/Watchlists.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getWatchlists, createWatchlist as apiCreateWatchlist } from './api';\r\n\r\nfunction Watchlists({ compact }) {\r\n  const [watchlists, setWatchlists] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  const fetchWatchlists = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const data = await getWatchlists();\r\n      setWatchlists(data);\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleCreateWatchlist = async e => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const data = await apiCreateWatchlist({ name: newName });\r\n      setWatchlists([...watchlists, data]);\r\n      setNewName('');\r\n      setSuccess('Watchlist created!');\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchWatchlists();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div className=\"text-danger\">{error}</div>;\r\n  if (!watchlists.length) return <div className=\"text-secondary\">No watchlists yet.</div>;\r\n\r\n  if (compact) {\r\n    return (\r\n      <ul className=\"list-group list-group-flush\" aria-label=\"Watchlists\">\r\n        {watchlists.slice(0, 2).map(wl => (\r\n          <li key={wl._id || wl.name} className=\"list-group-item bg-transparent px-0 py-1 border-0 text-truncate\">\r\n            {wl.name} ({wl.movies.length} movies)\r\n          </li>\r\n        ))}\r\n        {watchlists.length > 2 && <li className=\"list-group-item bg-transparent px-0 py-1 border-0 text-primary\">...and {watchlists.length - 2} more</li>}\r\n      </ul>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"mb-3 d-flex gap-2 flex-wrap\" onSubmit={handleCreateWatchlist} aria-label=\"Create new watchlist\">\r\n        <label htmlFor=\"new-watchlist-name\" className=\"visually-hidden\">New watchlist name</label>\r\n        <input\r\n          id=\"new-watchlist-name\"\r\n          className=\"form-control\"\r\n          type=\"text\"\r\n          placeholder=\"New watchlist name\"\r\n          value={newName}\r\n          onChange={e => setNewName(e.target.value)}\r\n          required\r\n          style={{ minWidth: 180, flex: 1 }}\r\n        />\r\n        <button className=\"btn btn-primary\" type=\"submit\" style={{ minHeight: 44, minWidth: 44 }}>Create</button>\r\n      </form>\r\n      {success && <div className=\"text-success mb-2\" role=\"status\">{success}</div>}\r\n      <div className=\"watchlists-grid\" role=\"list\" aria-label=\"Watchlists\">\r\n        {watchlists.map(wl => (\r\n          <div className=\"watchlist-card\" key={wl._id || wl.name} role=\"listitem\" tabIndex={0} aria-label={`Watchlist: ${wl.name}`}> \r\n            <div className=\"card-body d-flex flex-column\">\r\n              <h6 className=\"card-title fw-bold text-truncate\">{wl.name}</h6>\r\n              <div className=\"text-secondary small\">{wl.movies.length} movies</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <style>{`\r\n        .watchlists-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr;\r\n          gap: 1.5rem;\r\n        }\r\n        @media (min-width: 600px) {\r\n          .watchlists-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n        }\r\n        @media (min-width: 900px) {\r\n          .watchlists-grid {\r\n            grid-template-columns: repeat(3, 1fr);\r\n          }\r\n        }\r\n        .watchlist-card {\r\n          background: #fff;\r\n          border-radius: 18px;\r\n          box-shadow: 0 2px 12px rgba(0,0,0,0.07);\r\n          overflow: hidden;\r\n          display: flex;\r\n          flex-direction: column;\r\n          outline: none;\r\n          transition: transform 0.3s, box-shadow 0.3s;\r\n          cursor: pointer;\r\n        }\r\n        .watchlist-card:focus {\r\n          box-shadow: 0 0 0 3px #2563eb;\r\n        }\r\n        .watchlist-card:hover {\r\n          transform: scale(1.04);\r\n          box-shadow: 0 8px 32px rgba(0,0,0,0.13);\r\n        }\r\n        .card-body {\r\n          display: flex;\r\n          flex-direction: column;\r\n          flex: 1;\r\n          padding: 1rem;\r\n        }\r\n        .btn-primary {\r\n          font-size: 1rem;\r\n          padding: 0.75rem 1.25rem;\r\n          border-radius: 8px;\r\n        }\r\n        .visually-hidden {\r\n          position: absolute;\r\n          width: 1px;\r\n          height: 1px;\r\n          padding: 0;\r\n          margin: -1px;\r\n          overflow: hidden;\r\n          clip: rect(0,0,0,0);\r\n          border: 0;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Watchlists;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}