{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'https://movie-recommendation-app-backend-equ7.onrender.com';function Profile(){const[user,setUser]=useState(null);const[error,setError]=useState('');useEffect(()=>{const fetchProfile=async()=>{const token=localStorage.getItem('token');if(!token)return;try{const res=await fetch(\"\".concat(API_URL,\"/api/auth/profile\"),{headers:{'Authorization':\"Bearer \".concat(token)}});const data=await res.json();if(res.ok){setUser(data);}else{setError(data.message||'Failed to fetch profile');}}catch(err){setError('Server error');}};fetchProfile();},[]);if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-4 container\",style:{maxWidth:500},children:error});if(!user)return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:\"Loading profile...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",style:{maxWidth:500},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Username:\"}),\" \",user.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Email:\"}),\" \",user.email]})]})]});}export default Profile;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","Profile","user","setUser","error","setError","fetchProfile","token","localStorage","getItem","res","fetch","concat","headers","data","json","ok","message","err","className","style","maxWidth","children","username","email"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'https://movie-recommendation-app-backend-equ7.onrender.com';\r\n\r\nfunction Profile() {\r\n  const [user, setUser] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return;\r\n      try {\r\n        const res = await fetch(`${API_URL}/api/auth/profile`, {\r\n          headers: { 'Authorization': `Bearer ${token}` }\r\n        });\r\n        const data = await res.json();\r\n        if (res.ok) {\r\n          setUser(data);\r\n        } else {\r\n          setError(data.message || 'Failed to fetch profile');\r\n        }\r\n      } catch (err) {\r\n        setError('Server error');\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  if (error) return <div className=\"alert alert-danger mt-4 container\" style={{maxWidth: 500}}>{error}</div>;\r\n  if (!user) return <div className=\"container mt-4\">Loading profile...</div>;\r\n\r\n  return (\r\n    <div className=\"container mt-4\" style={{maxWidth: 500}}>\r\n      <h2>User Profile</h2>\r\n      <div className=\"card p-3\">\r\n        <p><b>Username:</b> {user.username}</p>\r\n        <p><b>Email:</b> {user.email}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,4DAA4D,CAE7G,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,OACZ,GAAI,CACF,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIf,OAAO,sBAAqB,CACrDgB,OAAO,CAAE,CAAE,eAAe,WAAAD,MAAA,CAAYL,KAAK,CAAG,CAChD,CAAC,CAAC,CACF,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7B,GAAIL,GAAG,CAACM,EAAE,CAAE,CACVb,OAAO,CAACW,IAAI,CAAC,CACf,CAAC,IAAM,CACLT,QAAQ,CAACS,IAAI,CAACG,OAAO,EAAI,yBAAyB,CAAC,CACrD,CACF,CAAE,MAAOC,GAAG,CAAE,CACZb,QAAQ,CAAC,cAAc,CAAC,CAC1B,CACF,CAAC,CACDC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,KAAK,CAAE,mBAAOV,IAAA,QAAKyB,SAAS,CAAC,mCAAmC,CAACC,KAAK,CAAE,CAACC,QAAQ,CAAE,GAAG,CAAE,CAAAC,QAAA,CAAElB,KAAK,CAAM,CAAC,CAC1G,GAAI,CAACF,IAAI,CAAE,mBAAOR,IAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAC,oBAAkB,CAAK,CAAC,CAE1E,mBACE1B,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAACC,KAAK,CAAE,CAACC,QAAQ,CAAE,GAAG,CAAE,CAAAC,QAAA,eACrD5B,IAAA,OAAA4B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB1B,KAAA,QAAKuB,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB1B,KAAA,MAAA0B,QAAA,eAAG5B,IAAA,MAAA4B,QAAA,CAAG,WAAS,CAAG,CAAC,IAAC,CAACpB,IAAI,CAACqB,QAAQ,EAAI,CAAC,cACvC3B,KAAA,MAAA0B,QAAA,eAAG5B,IAAA,MAAA4B,QAAA,CAAG,QAAM,CAAG,CAAC,IAAC,CAACpB,IAAI,CAACsB,KAAK,EAAI,CAAC,EAC9B,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAvB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}