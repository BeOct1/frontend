{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bitrus.ed\\\\Desktop\\\\movie-recommendation-app\\\\frontend\\\\src\\\\AuthModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AuthModal({\n  show,\n  onClose,\n  children\n}) {\n  _s();\n  const modalRef = useRef();\n  const previouslyFocused = useRef(null);\n  useEffect(() => {\n    if (show) {\n      var _modalRef$current;\n      previouslyFocused.current = document.activeElement;\n      (_modalRef$current = modalRef.current) === null || _modalRef$current === void 0 ? void 0 : _modalRef$current.focus();\n      const handleKeyDown = e => {\n        if (e.key === 'Escape') onClose();\n        // Trap focus\n        if (e.key === 'Tab') {\n          const focusable = modalRef.current.querySelectorAll('input,button,select,textarea,a[href],.btn');\n          const first = focusable[0];\n          const last = focusable[focusable.length - 1];\n          if (e.shiftKey && document.activeElement === first) {\n            e.preventDefault();\n            last.focus();\n          } else if (!e.shiftKey && document.activeElement === last) {\n            e.preventDefault();\n            first.focus();\n          }\n        }\n      };\n      document.addEventListener('keydown', handleKeyDown);\n      return () => {\n        var _previouslyFocused$cu;\n        document.removeEventListener('keydown', handleKeyDown);\n        (_previouslyFocused$cu = previouslyFocused.current) === null || _previouslyFocused$cu === void 0 ? void 0 : _previouslyFocused$cu.focus();\n      };\n    }\n  }, [show, onClose]);\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-modal-overlay\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-label\": \"Authentication Dialog\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-modal-card\",\n      ref: modalRef,\n      tabIndex: \"-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"auth-modal-close\",\n        onClick: onClose,\n        \"aria-label\": \"Close\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthModal, \"qB7QBIjSl4ODQZwAA/g5WxCENnU=\");\n_c = AuthModal;\nvar _c;\n$RefreshReg$(_c, \"AuthModal\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","AuthModal","show","onClose","children","_s","modalRef","previouslyFocused","_modalRef$current","current","document","activeElement","focus","handleKeyDown","e","key","focusable","querySelectorAll","first","last","length","shiftKey","preventDefault","addEventListener","_previouslyFocused$cu","removeEventListener","className","role","ref","tabIndex","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/AuthModal.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nexport default function AuthModal({ show, onClose, children }) {\r\n  const modalRef = useRef();\r\n  const previouslyFocused = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      previouslyFocused.current = document.activeElement;\r\n      modalRef.current?.focus();\r\n      const handleKeyDown = (e) => {\r\n        if (e.key === 'Escape') onClose();\r\n        // Trap focus\r\n        if (e.key === 'Tab') {\r\n          const focusable = modalRef.current.querySelectorAll('input,button,select,textarea,a[href],.btn');\r\n          const first = focusable[0];\r\n          const last = focusable[focusable.length - 1];\r\n          if (e.shiftKey && document.activeElement === first) {\r\n            e.preventDefault();\r\n            last.focus();\r\n          } else if (!e.shiftKey && document.activeElement === last) {\r\n            e.preventDefault();\r\n            first.focus();\r\n          }\r\n        }\r\n      };\r\n      document.addEventListener('keydown', handleKeyDown);\r\n      return () => {\r\n        document.removeEventListener('keydown', handleKeyDown);\r\n        previouslyFocused.current?.focus();\r\n      };\r\n    }\r\n  }, [show, onClose]);\r\n\r\n  if (!show) return null;\r\n  return (\r\n    <div className=\"auth-modal-overlay\" role=\"dialog\" aria-modal=\"true\" aria-label=\"Authentication Dialog\">\r\n      <div className=\"auth-modal-card\" ref={modalRef} tabIndex=\"-1\">\r\n        <button className=\"auth-modal-close\" onClick={onClose} aria-label=\"Close\">&times;</button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,eAAe,SAASC,SAASA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC7D,MAAMC,QAAQ,GAAGR,MAAM,CAAC,CAAC;EACzB,MAAMS,iBAAiB,GAAGT,MAAM,CAAC,IAAI,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd,IAAIK,IAAI,EAAE;MAAA,IAAAM,iBAAA;MACRD,iBAAiB,CAACE,OAAO,GAAGC,QAAQ,CAACC,aAAa;MAClD,CAAAH,iBAAA,GAAAF,QAAQ,CAACG,OAAO,cAAAD,iBAAA,uBAAhBA,iBAAA,CAAkBI,KAAK,CAAC,CAAC;MACzB,MAAMC,aAAa,GAAIC,CAAC,IAAK;QAC3B,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAEZ,OAAO,CAAC,CAAC;QACjC;QACA,IAAIW,CAAC,CAACC,GAAG,KAAK,KAAK,EAAE;UACnB,MAAMC,SAAS,GAAGV,QAAQ,CAACG,OAAO,CAACQ,gBAAgB,CAAC,2CAA2C,CAAC;UAChG,MAAMC,KAAK,GAAGF,SAAS,CAAC,CAAC,CAAC;UAC1B,MAAMG,IAAI,GAAGH,SAAS,CAACA,SAAS,CAACI,MAAM,GAAG,CAAC,CAAC;UAC5C,IAAIN,CAAC,CAACO,QAAQ,IAAIX,QAAQ,CAACC,aAAa,KAAKO,KAAK,EAAE;YAClDJ,CAAC,CAACQ,cAAc,CAAC,CAAC;YAClBH,IAAI,CAACP,KAAK,CAAC,CAAC;UACd,CAAC,MAAM,IAAI,CAACE,CAAC,CAACO,QAAQ,IAAIX,QAAQ,CAACC,aAAa,KAAKQ,IAAI,EAAE;YACzDL,CAAC,CAACQ,cAAc,CAAC,CAAC;YAClBJ,KAAK,CAACN,KAAK,CAAC,CAAC;UACf;QACF;MACF,CAAC;MACDF,QAAQ,CAACa,gBAAgB,CAAC,SAAS,EAAEV,aAAa,CAAC;MACnD,OAAO,MAAM;QAAA,IAAAW,qBAAA;QACXd,QAAQ,CAACe,mBAAmB,CAAC,SAAS,EAAEZ,aAAa,CAAC;QACtD,CAAAW,qBAAA,GAAAjB,iBAAiB,CAACE,OAAO,cAAAe,qBAAA,uBAAzBA,qBAAA,CAA2BZ,KAAK,CAAC,CAAC;MACpC,CAAC;IACH;EACF,CAAC,EAAE,CAACV,IAAI,EAAEC,OAAO,CAAC,CAAC;EAEnB,IAAI,CAACD,IAAI,EAAE,OAAO,IAAI;EACtB,oBACEF,OAAA;IAAK0B,SAAS,EAAC,oBAAoB;IAACC,IAAI,EAAC,QAAQ;IAAC,cAAW,MAAM;IAAC,cAAW,uBAAuB;IAAAvB,QAAA,eACpGJ,OAAA;MAAK0B,SAAS,EAAC,iBAAiB;MAACE,GAAG,EAAEtB,QAAS;MAACuB,QAAQ,EAAC,IAAI;MAAAzB,QAAA,gBAC3DJ,OAAA;QAAQ0B,SAAS,EAAC,kBAAkB;QAACI,OAAO,EAAE3B,OAAQ;QAAC,cAAW,OAAO;QAAAC,QAAA,EAAC;MAAO;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACzF9B,QAAQ;IAAA;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC7B,EAAA,CAzCuBJ,SAAS;AAAAkC,EAAA,GAATlC,SAAS;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}