{"ast":null,"code":"import React,{useEffect,useState}from'react';import MovieDetails from'./MovieDetails';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'https://movie-recommendation-app-backend-equ7.onrender.com';function MovieList(){const[movies,setMovies]=useState([]);const[search,setSearch]=useState('');const[year,setYear]=useState('');const[sortBy,setSortBy]=useState('popularity.desc');const[voteAverageGte,setVoteAverageGte]=useState('');const[voteAverageLte,setVoteAverageLte]=useState('');const[selectedMovie,setSelectedMovie]=useState(null);const fetchMovies=async()=>{let url=\"\".concat(API_URL,\"/api/movies/search?query=\").concat(encodeURIComponent(search));if(year)url+=\"&year=\".concat(encodeURIComponent(year));if(sortBy)url+=\"&sort_by=\".concat(encodeURIComponent(sortBy));if(voteAverageGte)url+=\"&vote_average_gte=\".concat(encodeURIComponent(voteAverageGte));if(voteAverageLte)url+=\"&vote_average_lte=\".concat(encodeURIComponent(voteAverageLte));const res=await fetch(url);const data=await res.json();setMovies(data.results||[]);};useEffect(()=>{fetchMovies();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const handleSearch=e=>{e.preventDefault();fetchMovies();};if(selectedMovie){return/*#__PURE__*/_jsx(MovieDetails,{movieId:selectedMovie,onBack:()=>setSelectedMovie(null)});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Movie Discovery\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"row g-2 align-items-end mb-3\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search by title\",className:\"form-control\",value:search,onChange:e=>setSearch(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Year\",className:\"form-control\",value:year,onChange:e=>setYear(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Min Rating\",className:\"form-control\",value:voteAverageGte,onChange:e=>setVoteAverageGte(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Max Rating\",className:\"form-control\",value:voteAverageLte,onChange:e=>setVoteAverageLte(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:sortBy,onChange:e=>setSortBy(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"popularity.desc\",children:\"Most Popular\"}),/*#__PURE__*/_jsx(\"option\",{value:\"release_date.desc\",children:\"Newest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vote_average.desc\",children:\"Top Rated\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-1\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",children:\"Search\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:movies.map(movie=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[movie.poster_path&&/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w200\".concat(movie.poster_path),alt:movie.title,className:\"card-img-top\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[movie.title,\" \",/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"(\",movie.release_date?movie.release_date.substring(0,4):'N/A',\")\"]})]}),movie.vote_average&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Rating: \",movie.vote_average]}),movie.overview&&/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:movie.overview}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-info mt-2\",onClick:()=>setSelectedMovie(movie.id),children:\"Details\"})]})]})},movie.id))})]});}export default MovieList;","map":{"version":3,"names":["React","useEffect","useState","MovieDetails","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","MovieList","movies","setMovies","search","setSearch","year","setYear","sortBy","setSortBy","voteAverageGte","setVoteAverageGte","voteAverageLte","setVoteAverageLte","selectedMovie","setSelectedMovie","fetchMovies","url","concat","encodeURIComponent","res","fetch","data","json","results","handleSearch","e","preventDefault","movieId","onBack","className","children","onSubmit","placeholder","value","onChange","target","type","map","movie","poster_path","src","alt","title","release_date","substring","vote_average","overview","onClick","id"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/MovieList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport MovieDetails from './MovieDetails';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'https://movie-recommendation-app-backend-equ7.onrender.com';\r\n\r\nfunction MovieList() {\r\n  const [movies, setMovies] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [year, setYear] = useState('');\r\n  const [sortBy, setSortBy] = useState('popularity.desc');\r\n  const [voteAverageGte, setVoteAverageGte] = useState('');\r\n  const [voteAverageLte, setVoteAverageLte] = useState('');\r\n  const [selectedMovie, setSelectedMovie] = useState(null);\r\n\r\n  const fetchMovies = async () => {\r\n    let url = `${API_URL}/api/movies/search?query=${encodeURIComponent(search)}`;\r\n    if (year) url += `&year=${encodeURIComponent(year)}`;\r\n    if (sortBy) url += `&sort_by=${encodeURIComponent(sortBy)}`;\r\n    if (voteAverageGte) url += `&vote_average_gte=${encodeURIComponent(voteAverageGte)}`;\r\n    if (voteAverageLte) url += `&vote_average_lte=${encodeURIComponent(voteAverageLte)}`;\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n    setMovies(data.results || []);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMovies();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    fetchMovies();\r\n  };\r\n\r\n  if (selectedMovie) {\r\n    return <MovieDetails movieId={selectedMovie} onBack={() => setSelectedMovie(null)} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>Movie Discovery</h2>\r\n      <form className=\"row g-2 align-items-end mb-3\" onSubmit={handleSearch}>\r\n        <div className=\"col-md-3\">\r\n          <input placeholder=\"Search by title\" className=\"form-control\" value={search} onChange={e => setSearch(e.target.value)} />\r\n        </div>\r\n        <div className=\"col-md-2\">\r\n          <input placeholder=\"Year\" className=\"form-control\" value={year} onChange={e => setYear(e.target.value)} />\r\n        </div>\r\n        <div className=\"col-md-2\">\r\n          <input placeholder=\"Min Rating\" className=\"form-control\" value={voteAverageGte} onChange={e => setVoteAverageGte(e.target.value)} />\r\n        </div>\r\n        <div className=\"col-md-2\">\r\n          <input placeholder=\"Max Rating\" className=\"form-control\" value={voteAverageLte} onChange={e => setVoteAverageLte(e.target.value)} />\r\n        </div>\r\n        <div className=\"col-md-2\">\r\n          <select className=\"form-select\" value={sortBy} onChange={e => setSortBy(e.target.value)}>\r\n            <option value=\"popularity.desc\">Most Popular</option>\r\n            <option value=\"release_date.desc\">Newest</option>\r\n            <option value=\"vote_average.desc\">Top Rated</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"col-md-1\">\r\n          <button type=\"submit\" className=\"btn btn-primary w-100\">Search</button>\r\n        </div>\r\n      </form>\r\n      <div className=\"row\">\r\n        {movies.map(movie => (\r\n          <div className=\"col-md-4 mb-4\" key={movie.id}>\r\n            <div className=\"card h-100\">\r\n              {movie.poster_path && <img src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`} alt={movie.title} className=\"card-img-top\" />}\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{movie.title} <small className=\"text-muted\">({movie.release_date ? movie.release_date.substring(0, 4) : 'N/A'})</small></h5>\r\n                {movie.vote_average && <div>Rating: {movie.vote_average}</div>}\r\n                {movie.overview && <p className=\"card-text\">{movie.overview}</p>}\r\n                <button className=\"btn btn-outline-info mt-2\" onClick={() => setSelectedMovie(movie.id)}>Details</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}