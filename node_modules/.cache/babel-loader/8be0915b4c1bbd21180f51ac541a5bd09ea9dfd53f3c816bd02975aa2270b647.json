{"ast":null,"code":"import React,{useEffect,useState}from'react';import authFetch from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FavoritesList(){const[favorites,setFavorites]=useState([]);const[message,setMessage]=useState('');const fetchFavorites=async()=>{const res=await authFetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/favorites\"));const data=await res.json();if(res.ok)setFavorites(data);else setMessage(data.message||'Failed to fetch favorites');};const removeFavorite=async movieId=>{const res=await authFetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/favorites/\").concat(movieId),{method:'DELETE'});const data=await res.json();if(res.ok){setFavorites(favorites.filter(fav=>fav.movieId!==movieId));setMessage('Favorite removed');}else{setMessage(data.message||'Failed to remove favorite');}};useEffect(()=>{fetchFavorites();// eslint-disable-next-line\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Favorites\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[favorites.map(fav=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[fav.posterPath&&/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w200\".concat(fav.posterPath),className:\"card-img-top\",alt:fav.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:fav.title}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>removeFavorite(fav.movieId),children:\"Remove\"})]})]})},fav.movieId)),favorites.length===0&&/*#__PURE__*/_jsx(\"div\",{children:\"No favorites yet.\"})]})]});}export default FavoritesList;","map":{"version":3,"names":["React","useEffect","useState","authFetch","jsx","_jsx","jsxs","_jsxs","FavoritesList","favorites","setFavorites","message","setMessage","fetchFavorites","res","concat","process","env","REACT_APP_API_URL","data","json","ok","removeFavorite","movieId","method","filter","fav","className","children","map","posterPath","src","alt","title","onClick","length"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/FavoritesList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport authFetch from './api';\r\n\r\nfunction FavoritesList() {\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const fetchFavorites = async () => {\r\n    const res = await authFetch(\r\n      `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/favorites`\r\n    );\r\n    const data = await res.json();\r\n    if (res.ok) setFavorites(data);\r\n    else setMessage(data.message || 'Failed to fetch favorites');\r\n  };\r\n\r\n  const removeFavorite = async (movieId) => {\r\n    const res = await authFetch(\r\n      `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/favorites/${movieId}`,\r\n      { method: 'DELETE' }\r\n    );\r\n    const data = await res.json();\r\n    if (res.ok) {\r\n      setFavorites(favorites.filter(fav => fav.movieId !== movieId));\r\n      setMessage('Favorite removed');\r\n    } else {\r\n      setMessage(data.message || 'Failed to remove favorite');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFavorites();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container my-4\">\r\n      <h3>Your Favorites</h3>\r\n      {message && <div className=\"alert alert-info\">{message}</div>}\r\n      <div className=\"row\">\r\n        {favorites.map(fav => (\r\n          <div className=\"col-md-3 mb-3\" key={fav.movieId}>\r\n            <div className=\"card h-100\">\r\n              {fav.posterPath && (\r\n                <img src={`https://image.tmdb.org/t/p/w200${fav.posterPath}`} className=\"card-img-top\" alt={fav.title} />\r\n              )}\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{fav.title}</h5>\r\n                <button className=\"btn btn-danger btn-sm\" onClick={() => removeFavorite(fav.movieId)}>\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {favorites.length === 0 && <div>No favorites yet.</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FavoritesList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}