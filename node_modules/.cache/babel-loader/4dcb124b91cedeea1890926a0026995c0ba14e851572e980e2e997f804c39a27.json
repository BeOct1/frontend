{"ast":null,"code":"import _objectSpread from\"C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from'react';import authFetch from'./api';// Example usage in MovieDetails.js\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FavoriteButton(_ref){let{movie}=_ref;const[message,setMessage]=useState('');const addFavorite=async()=>{const res=await authFetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/favorites\"),{method:'POST',body:JSON.stringify({movieId:movie.id,title:movie.title,posterPath:movie.poster_path})});const data=await res.json();setMessage(res.ok?'Added to favorites!':data.message);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:addFavorite,children:\"Add to Favorites\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:message})]});}function ReviewForm(_ref2){let{movieId,onReview}=_ref2;const[rating,setRating]=useState('');const[comment,setComment]=useState('');const[message,setMessage]=useState('');const submitReview=async e=>{e.preventDefault();const res=await authFetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/reviews\"),{method:'POST',body:JSON.stringify({movieId,rating,comment})});const data=await res.json();if(res.ok){setMessage('Review submitted!');setRating('');setComment('');if(onReview)onReview();}else{setMessage(data.message);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitReview,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rating (1-10)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",min:\"1\",max:\"10\",value:rating,onChange:e=>setRating(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Comment\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:comment,onChange:e=>setComment(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",type:\"submit\",children:\"Submit Review\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:message})]});}function Profile(){const[profile,setProfile]=useState(null);const[message,setMessage]=useState('');useEffect(()=>{authFetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/profile\")).then(res=>res.json()).then(setProfile);},[]);const handleUpdate=async e=>{e.preventDefault();const res=await authFetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:5000',\"/api/profile\"),{method:'PUT',body:JSON.stringify(profile)});const data=await res.json();setMessage(res.ok?'Profile updated!':data.message);};if(!profile)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:profile.username,onChange:e=>setProfile(_objectSpread(_objectSpread({},profile),{},{username:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:profile.email,onChange:e=>setProfile(_objectSpread(_objectSpread({},profile),{},{email:e.target.value}))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Update Profile\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:message})]});}export default Profile;","map":{"version":3,"names":["useEffect","useState","authFetch","jsx","_jsx","jsxs","_jsxs","FavoriteButton","_ref","movie","message","setMessage","addFavorite","res","concat","process","env","REACT_APP_API_URL","method","body","JSON","stringify","movieId","id","title","posterPath","poster_path","data","json","ok","children","className","onClick","ReviewForm","_ref2","onReview","rating","setRating","comment","setComment","submitReview","e","preventDefault","onSubmit","type","min","max","value","onChange","target","required","Profile","profile","setProfile","then","handleUpdate","username","_objectSpread","email"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport authFetch from './api';\r\n\r\n// Example usage in MovieDetails.js\r\nfunction FavoriteButton({ movie }) {\r\n  const [message, setMessage] = useState('');\r\n\r\n  const addFavorite = async () => {\r\n    const res = await authFetch(\r\n      `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/favorites`,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          movieId: movie.id,\r\n          title: movie.title,\r\n          posterPath: movie.poster_path,\r\n        }),\r\n      }\r\n    );\r\n    const data = await res.json();\r\n    setMessage(res.ok ? 'Added to favorites!' : data.message);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"btn btn-warning\" onClick={addFavorite}>Add to Favorites</button>\r\n      {message && <div className=\"mt-2\">{message}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ReviewForm({ movieId, onReview }) {\r\n  const [rating, setRating] = useState('');\r\n  const [comment, setComment] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const submitReview = async e => {\r\n    e.preventDefault();\r\n    const res = await authFetch(\r\n      `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/reviews`,\r\n      {\r\n        method: 'POST',\r\n        body: JSON.stringify({ movieId, rating, comment }),\r\n      }\r\n    );\r\n    const data = await res.json();\r\n    if (res.ok) {\r\n      setMessage('Review submitted!');\r\n      setRating('');\r\n      setComment('');\r\n      if (onReview) onReview();\r\n    } else {\r\n      setMessage(data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={submitReview}>\r\n      <div className=\"mb-2\">\r\n        <label>Rating (1-10)</label>\r\n        <input className=\"form-control\" type=\"number\" min=\"1\" max=\"10\" value={rating} onChange={e => setRating(e.target.value)} required />\r\n      </div>\r\n      <div className=\"mb-2\">\r\n        <label>Comment</label>\r\n        <textarea className=\"form-control\" value={comment} onChange={e => setComment(e.target.value)} />\r\n      </div>\r\n      <button className=\"btn btn-success\" type=\"submit\">Submit Review</button>\r\n      {message && <div className=\"mt-2\">{message}</div>}\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction Profile() {\r\n  const [profile, setProfile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    authFetch(`${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/profile`)\r\n      .then(res => res.json())\r\n      .then(setProfile);\r\n  }, []);\r\n\r\n  const handleUpdate = async e => {\r\n    e.preventDefault();\r\n    const res = await authFetch(\r\n      `${process.env.REACT_APP_API_URL || 'http://localhost:5000'}/api/profile`,\r\n      {\r\n        method: 'PUT',\r\n        body: JSON.stringify(profile),\r\n      }\r\n    );\r\n    const data = await res.json();\r\n    setMessage(res.ok ? 'Profile updated!' : data.message);\r\n  };\r\n\r\n  if (!profile) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <form onSubmit={handleUpdate}>\r\n      <div className=\"mb-2\">\r\n        <label>Username</label>\r\n        <input className=\"form-control\" value={profile.username} onChange={e => setProfile({ ...profile, username: e.target.value })} />\r\n      </div>\r\n      <div className=\"mb-2\">\r\n        <label>Email</label>\r\n        <input className=\"form-control\" value={profile.email} onChange={e => setProfile({ ...profile, email: e.target.value })} />\r\n      </div>\r\n      <button className=\"btn btn-primary\" type=\"submit\">Update Profile</button>\r\n      {message && <div className=\"mt-2\">{message}</div>}\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}