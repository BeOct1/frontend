{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AuthModal(_ref){let{show,onClose,children}=_ref;const modalRef=useRef();const previouslyFocused=useRef(null);useEffect(()=>{if(show){var _modalRef$current;previouslyFocused.current=document.activeElement;(_modalRef$current=modalRef.current)===null||_modalRef$current===void 0?void 0:_modalRef$current.focus();const handleKeyDown=e=>{if(e.key==='Escape')onClose();// Trap focus\nif(e.key==='Tab'){const focusable=modalRef.current.querySelectorAll('input,button,select,textarea,a[href],.btn');const first=focusable[0];const last=focusable[focusable.length-1];if(e.shiftKey&&document.activeElement===first){e.preventDefault();last.focus();}else if(!e.shiftKey&&document.activeElement===last){e.preventDefault();first.focus();}}};document.addEventListener('keydown',handleKeyDown);return()=>{var _previouslyFocused$cu;document.removeEventListener('keydown',handleKeyDown);(_previouslyFocused$cu=previouslyFocused.current)===null||_previouslyFocused$cu===void 0?void 0:_previouslyFocused$cu.focus();};}},[show,onClose]);if(!show)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"auth-modal-overlay\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-label\":\"Authentication Dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-modal-card\",ref:modalRef,tabIndex:\"-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"auth-modal-close\",onClick:onClose,\"aria-label\":\"Close\",children:\"\\xD7\"}),children]})});}","map":{"version":3,"names":["React","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","AuthModal","_ref","show","onClose","children","modalRef","previouslyFocused","_modalRef$current","current","document","activeElement","focus","handleKeyDown","e","key","focusable","querySelectorAll","first","last","length","shiftKey","preventDefault","addEventListener","_previouslyFocused$cu","removeEventListener","className","role","ref","tabIndex","onClick"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/AuthModal.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nexport default function AuthModal({ show, onClose, children }) {\r\n  const modalRef = useRef();\r\n  const previouslyFocused = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      previouslyFocused.current = document.activeElement;\r\n      modalRef.current?.focus();\r\n      const handleKeyDown = (e) => {\r\n        if (e.key === 'Escape') onClose();\r\n        // Trap focus\r\n        if (e.key === 'Tab') {\r\n          const focusable = modalRef.current.querySelectorAll('input,button,select,textarea,a[href],.btn');\r\n          const first = focusable[0];\r\n          const last = focusable[focusable.length - 1];\r\n          if (e.shiftKey && document.activeElement === first) {\r\n            e.preventDefault();\r\n            last.focus();\r\n          } else if (!e.shiftKey && document.activeElement === last) {\r\n            e.preventDefault();\r\n            first.focus();\r\n          }\r\n        }\r\n      };\r\n      document.addEventListener('keydown', handleKeyDown);\r\n      return () => {\r\n        document.removeEventListener('keydown', handleKeyDown);\r\n        previouslyFocused.current?.focus();\r\n      };\r\n    }\r\n  }, [show, onClose]);\r\n\r\n  if (!show) return null;\r\n  return (\r\n    <div className=\"auth-modal-overlay\" role=\"dialog\" aria-modal=\"true\" aria-label=\"Authentication Dialog\">\r\n      <div className=\"auth-modal-card\" ref={modalRef} tabIndex=\"-1\">\r\n        <button className=\"auth-modal-close\" onClick={onClose} aria-label=\"Close\">&times;</button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAA8B,IAA7B,CAAEC,IAAI,CAAEC,OAAO,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAC3D,KAAM,CAAAI,QAAQ,CAAGV,MAAM,CAAC,CAAC,CACzB,KAAM,CAAAW,iBAAiB,CAAGX,MAAM,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,GAAIQ,IAAI,CAAE,KAAAK,iBAAA,CACRD,iBAAiB,CAACE,OAAO,CAAGC,QAAQ,CAACC,aAAa,CAClD,CAAAH,iBAAA,CAAAF,QAAQ,CAACG,OAAO,UAAAD,iBAAA,iBAAhBA,iBAAA,CAAkBI,KAAK,CAAC,CAAC,CACzB,KAAM,CAAAC,aAAa,CAAIC,CAAC,EAAK,CAC3B,GAAIA,CAAC,CAACC,GAAG,GAAK,QAAQ,CAAEX,OAAO,CAAC,CAAC,CACjC;AACA,GAAIU,CAAC,CAACC,GAAG,GAAK,KAAK,CAAE,CACnB,KAAM,CAAAC,SAAS,CAAGV,QAAQ,CAACG,OAAO,CAACQ,gBAAgB,CAAC,2CAA2C,CAAC,CAChG,KAAM,CAAAC,KAAK,CAAGF,SAAS,CAAC,CAAC,CAAC,CAC1B,KAAM,CAAAG,IAAI,CAAGH,SAAS,CAACA,SAAS,CAACI,MAAM,CAAG,CAAC,CAAC,CAC5C,GAAIN,CAAC,CAACO,QAAQ,EAAIX,QAAQ,CAACC,aAAa,GAAKO,KAAK,CAAE,CAClDJ,CAAC,CAACQ,cAAc,CAAC,CAAC,CAClBH,IAAI,CAACP,KAAK,CAAC,CAAC,CACd,CAAC,IAAM,IAAI,CAACE,CAAC,CAACO,QAAQ,EAAIX,QAAQ,CAACC,aAAa,GAAKQ,IAAI,CAAE,CACzDL,CAAC,CAACQ,cAAc,CAAC,CAAC,CAClBJ,KAAK,CAACN,KAAK,CAAC,CAAC,CACf,CACF,CACF,CAAC,CACDF,QAAQ,CAACa,gBAAgB,CAAC,SAAS,CAAEV,aAAa,CAAC,CACnD,MAAO,IAAM,KAAAW,qBAAA,CACXd,QAAQ,CAACe,mBAAmB,CAAC,SAAS,CAAEZ,aAAa,CAAC,CACtD,CAAAW,qBAAA,CAAAjB,iBAAiB,CAACE,OAAO,UAAAe,qBAAA,iBAAzBA,qBAAA,CAA2BZ,KAAK,CAAC,CAAC,CACpC,CAAC,CACH,CACF,CAAC,CAAE,CAACT,IAAI,CAAEC,OAAO,CAAC,CAAC,CAEnB,GAAI,CAACD,IAAI,CAAE,MAAO,KAAI,CACtB,mBACEL,IAAA,QAAK4B,SAAS,CAAC,oBAAoB,CAACC,IAAI,CAAC,QAAQ,CAAC,aAAW,MAAM,CAAC,aAAW,uBAAuB,CAAAtB,QAAA,cACpGL,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAACE,GAAG,CAAEtB,QAAS,CAACuB,QAAQ,CAAC,IAAI,CAAAxB,QAAA,eAC3DP,IAAA,WAAQ4B,SAAS,CAAC,kBAAkB,CAACI,OAAO,CAAE1B,OAAQ,CAAC,aAAW,OAAO,CAAAC,QAAA,CAAC,MAAO,CAAQ,CAAC,CACzFA,QAAQ,EACN,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}