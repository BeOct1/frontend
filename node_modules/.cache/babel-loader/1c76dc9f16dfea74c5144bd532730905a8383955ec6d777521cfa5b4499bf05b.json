{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'https://movie-recommendation-app-backend-equ7.onrender.com';function Recommendations(){const[movies,setMovies]=useState([]);const[error,setError]=useState('');useEffect(()=>{const fetchRecommendations=async()=>{const token=localStorage.getItem('token');if(!token)return setError('Login to see recommendations');try{const res=await fetch(\"\".concat(API_URL,\"/api/movies/recommendations\"),{headers:{'Authorization':\"Bearer \".concat(token)}});const data=await res.json();if(res.ok)setMovies(data);else setError(data.message||'Failed to fetch recommendations');}catch(err){setError('Server error');}};fetchRecommendations();},[]);if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-4 container\",style:{maxWidth:500},children:error});if(!movies.length)return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:\"No recommendations yet.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recommended Movies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:movies.map(movie=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[movie.posterUrl&&/*#__PURE__*/_jsx(\"img\",{src:movie.posterUrl,alt:movie.title,className:\"card-img-top\",style:{width:'100px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[movie.title,\" \",/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"(\",movie.year||movie.release_date?movie.year||movie.release_date.substring(0,4):'N/A',\")\"]})]}),movie.genre&&/*#__PURE__*/_jsx(\"div\",{children:movie.genre}),movie.description&&/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:movie.description})]})]})},movie._id||movie.id))})]});}export default Recommendations;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","Recommendations","movies","setMovies","error","setError","fetchRecommendations","token","localStorage","getItem","res","fetch","concat","headers","data","json","ok","message","err","className","style","maxWidth","children","length","map","movie","posterUrl","src","alt","title","width","year","release_date","substring","genre","description","_id","id"],"sources":["C:/Users/Bitrus.ed/Desktop/movie-recommendation-app/frontend/src/Recommendations.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'https://movie-recommendation-app-backend-equ7.onrender.com';\r\n\r\nfunction Recommendations() {\r\n  const [movies, setMovies] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchRecommendations = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) return setError('Login to see recommendations');\r\n      try {\r\n        const res = await fetch(`${API_URL}/api/movies/recommendations`, {\r\n          headers: { 'Authorization': `Bearer ${token}` }\r\n        });\r\n        const data = await res.json();\r\n        if (res.ok) setMovies(data);\r\n        else setError(data.message || 'Failed to fetch recommendations');\r\n      } catch (err) {\r\n        setError('Server error');\r\n      }\r\n    };\r\n    fetchRecommendations();\r\n  }, []);\r\n\r\n  if (error) return <div className=\"alert alert-danger mt-4 container\" style={{maxWidth: 500}}>{error}</div>;\r\n  if (!movies.length) return <div className=\"container mt-4\">No recommendations yet.</div>;\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>Recommended Movies</h2>\r\n      <div className=\"row\">\r\n        {movies.map(movie => (\r\n          <div className=\"col-md-4 mb-4\" key={movie._id || movie.id}>\r\n            <div className=\"card h-100\">\r\n              {movie.posterUrl && <img src={movie.posterUrl} alt={movie.title} className=\"card-img-top\" style={{width: '100px'}} />}\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{movie.title} <small className=\"text-muted\">({movie.year || movie.release_date ? (movie.year || movie.release_date.substring(0, 4)) : 'N/A'})</small></h5>\r\n                {movie.genre && <div>{movie.genre}</div>}\r\n                {movie.description && <p className=\"card-text\">{movie.description}</p>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Recommendations;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,4DAA4D,CAE7G,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,MAAO,CAAAF,QAAQ,CAAC,8BAA8B,CAAC,CAC3D,GAAI,CACF,KAAM,CAAAK,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIf,OAAO,gCAA+B,CAC/DgB,OAAO,CAAE,CAAE,eAAe,WAAAD,MAAA,CAAYL,KAAK,CAAG,CAChD,CAAC,CAAC,CACF,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7B,GAAIL,GAAG,CAACM,EAAE,CAAEb,SAAS,CAACW,IAAI,CAAC,CAAC,IACvB,CAAAT,QAAQ,CAACS,IAAI,CAACG,OAAO,EAAI,iCAAiC,CAAC,CAClE,CAAE,MAAOC,GAAG,CAAE,CACZb,QAAQ,CAAC,cAAc,CAAC,CAC1B,CACF,CAAC,CACDC,oBAAoB,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,KAAK,CAAE,mBAAOV,IAAA,QAAKyB,SAAS,CAAC,mCAAmC,CAACC,KAAK,CAAE,CAACC,QAAQ,CAAE,GAAG,CAAE,CAAAC,QAAA,CAAElB,KAAK,CAAM,CAAC,CAC1G,GAAI,CAACF,MAAM,CAACqB,MAAM,CAAE,mBAAO7B,IAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,CAAC,yBAAuB,CAAK,CAAC,CAExF,mBACE1B,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7B5B,IAAA,OAAA4B,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3B5B,IAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAG,QAAA,CACjBpB,MAAM,CAACsB,GAAG,CAACC,KAAK,eACf/B,IAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAG,QAAA,cAC5B1B,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAG,QAAA,EACxBG,KAAK,CAACC,SAAS,eAAIhC,IAAA,QAAKiC,GAAG,CAAEF,KAAK,CAACC,SAAU,CAACE,GAAG,CAAEH,KAAK,CAACI,KAAM,CAACV,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAACU,KAAK,CAAE,OAAO,CAAE,CAAE,CAAC,cACrHlC,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAG,QAAA,eACxB1B,KAAA,OAAIuB,SAAS,CAAC,YAAY,CAAAG,QAAA,EAAEG,KAAK,CAACI,KAAK,CAAC,GAAC,cAAAjC,KAAA,UAAOuB,SAAS,CAAC,YAAY,CAAAG,QAAA,EAAC,GAAC,CAACG,KAAK,CAACM,IAAI,EAAIN,KAAK,CAACO,YAAY,CAAIP,KAAK,CAACM,IAAI,EAAIN,KAAK,CAACO,YAAY,CAACC,SAAS,CAAC,CAAC,CAAE,CAAC,CAAC,CAAI,KAAK,CAAC,GAAC,EAAO,CAAC,EAAI,CAAC,CACpLR,KAAK,CAACS,KAAK,eAAIxC,IAAA,QAAA4B,QAAA,CAAMG,KAAK,CAACS,KAAK,CAAM,CAAC,CACvCT,KAAK,CAACU,WAAW,eAAIzC,IAAA,MAAGyB,SAAS,CAAC,WAAW,CAAAG,QAAA,CAAEG,KAAK,CAACU,WAAW,CAAI,CAAC,EACnE,CAAC,EACH,CAAC,EAR4BV,KAAK,CAACW,GAAG,EAAIX,KAAK,CAACY,EASlD,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAApC,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}